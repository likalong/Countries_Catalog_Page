{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-be457f1c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-title\"\n}, \" Fields to Filter \", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"col-9\"\n};\nconst _hoisted_6 = {\n  class: \"col-3\"\n};\nconst _hoisted_7 = {\n  class: \"dropdown\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-secondary dropdown-toggle\",\n  type: \"button\",\n  id: \"fieldsMenuDropdown\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n}, \" Dropdown button \", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"dropdown-menu\",\n  \"aria-labelledby\": \"fieldsMenuDropdown\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"TablleClass\"\n}, [/*#__PURE__*/_createElementVNode(\"template\", null, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-center text-danger my-2\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"spinner-border text-secondary\",\n  role: \"status\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sr-only\"\n}, \"Loading...\")])])]), /*#__PURE__*/_createElementVNode(\"template\", {\n  slot: \"top-row\",\n  \"slot-scope\": \"{ fields }\"\n}, [/*#__PURE__*/_createElementVNode(\"nav\", {\n  \"aria-label\": \"...\"\n}, [/*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"pagination\"\n}, [/*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item disabled\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"page-link\",\n  href: \"#\",\n  tabindex: \"-1\"\n}, \"Previous\")]), /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"page-link\",\n  href: \"#\"\n}, \"1\")]), /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item active\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"page-link\",\n  href: \"#\"\n}, [/*#__PURE__*/_createTextVNode(\"2 \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sr-only\"\n}, \"(current)\")])]), /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"page-link\",\n  href: \"#\"\n}, \"3\")]), /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"page-link\",\n  href: \"#\"\n}, \"Next\")])])])])], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_dropdown_item = _resolveComponent(\"b-dropdown-item\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search all values\",\n    \"aria-label\": \"Search all values\",\n    \"aria-describedby\": \"basic-addon2\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.filters.all = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.filters.all]])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"ul\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.headers, header => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: header\n    }, [_createVNode(_component_b_dropdown_item, {\n      onClick: $event => $options.SelectedFilterRowsItem(header)\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(header), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]), _createCommentVNode(\" end filter section \"), _hoisted_10])]);\n}","map":{"version":3,"names":["id","class","_createElementVNode","type","role","slot","href","tabindex","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","placeholder","_ctx","filters","all","$event","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","headers","header","key","_createVNode","_component_b_dropdown_item","onClick","$options","SelectedFilterRowsItem","_createCommentVNode","_hoisted_10"],"sources":["/Users/lika/Desktop/countries-catalog-page/src/components/CountriesList.vue"],"sourcesContent":["<template>\n    <div id=\"app\">\n      <div>\n        <div class=\"card-body\">\n          <div class=\"card-title\">\n            Fields to Filter\n          </div>\n          <div class=\"row\">\n          \n            <div class=\"col-9\">\n              <input \n                type=\"text\" \n                class=\"form-control\" \n                placeholder=\"Search all values\" \n                aria-label=\"Search all values\" \n                aria-describedby=\"basic-addon2\"\n                v-model=\"filters.all\"\n              >\n            </div>\n            <div class=\"col-3\">\n              <div class=\"dropdown\">\n                <button \n                  class=\"btn btn-secondary \n                  dropdown-toggle\" \n                  type=\"button\" \n                  id=\"fieldsMenuDropdown\" \n                  data-bs-toggle=\"dropdown\" \n                  aria-expanded=\"false\"\n                >\n                  Dropdown button\n                </button>\n                <ul class=\"dropdown-menu\" aria-labelledby=\"fieldsMenuDropdown\">\n                  <div v-for=\"header in headers\" :key=\"header\">\n                    <b-dropdown-item @click=\"SelectedFilterRowsItem(header)\">\n                      {{ header }}\n                    </b-dropdown-item>\n                  </div>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- end filter section -->\n\n        <div class=\"TablleClass\">\n          <template>\n              <div class=\"text-center text-danger my-2\">\n                <div class=\"spinner-border text-secondary\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n          </template>\n  \n          <template slot=\"top-row\" slot-scope=\"{ fields }\">\n            <nav aria-label=\"...\">\n              <ul class=\"pagination\">\n                <li class=\"page-item disabled\">\n                  <a class=\"page-link\" href=\"#\" tabindex=\"-1\">Previous</a>\n                </li>\n                <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n                <li class=\"page-item active\">\n                  <a class=\"page-link\" href=\"#\">2 <span class=\"sr-only\">(current)</span></a>\n                </li>\n                <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n                <li class=\"page-item\">\n                  <a class=\"page-link\" href=\"#\">Next</a>\n                </li>\n              </ul>\n            </nav>\n          </template>\n\n        </div>\n\n      </div>\n    </div>\n</template>\n\n<script>\n  //\n  export default {\n    name: \"App\",\n    components: {},\n    data: () => ({\n      // filteredItems: \"\",\n      headers: [\"name\", \"capital\", \"region\", \"flag\"],\n      items: \"\",\n      loading: true,\n      filterRow: [\"capital\"],\n      filters: {\n        all: \"\",\n        name: \"\",\n        capital: \"\",\n        region: \"\",\n        flag: \"\",\n      },\n  \n      emptyItem: [{}],\n    }),\n    created() {\n      this.getCountries();\n    },\n    methods: {\n      CreateEmptyItem() {\n        for (let i = 0; i < this.headers.length; i++) {\n          this.emptyItem[this.headers[i]] = \"\";\n        }\n      },\n      getCountries() {\n        this.axios.get(\"/all\").then((res) => {\n          this.items = res.data;\n          //  this.filteredItems = res.data;\n          this.loading = false;\n        });\n      },\n  \n      SelectedFilterRowsItem(headerName) {\n        if (this.filterRow.indexOf(headerName) != -1) {\n          this.filterRow.splice(this.filterRow.indexOf(headerName), 1);\n          this.filters[headerName] = '';\n        } else {\n          this.filterRow.push(headerName);\n        }\n      },\n    },\n  \n    computed: {\n      filteredItems() {\n        if (this.loading) return this.emptyItem;\n  \n        let filterByColumn = true;\n        let filtered = [{}];\n  \n        if (this.filters.all != \"\") filterByColumn = false;\n  \n        function getObjectValuesWithFilter(item, filterCriteria) {\n          let trueCount = 0;\n          if (typeof item == \"object\") {\n            Object.values(item).some((key) => {\n              if (typeof key != \"object\") {\n                if (String(key).toLowerCase().includes(filterCriteria))\n                  trueCount++;\n              } else {\n                trueCount += getObjectValuesWithFilter(key, filterCriteria);\n              }\n            });\n          } else {\n            if (String(item).toLowerCase().includes(filterCriteria)) trueCount++;\n          }\n          return trueCount;\n        }\n  \n        if (filterByColumn) {\n          filtered = this.items.filter((item) => {\n            return Object.keys(this.filters).every((key) =>\n              String(item[key])\n                .toLowerCase()\n                .includes(this.filters[key].toLowerCase())\n            );\n          });\n        } else {\n          filtered = [{}];\n  \n          filtered = this.items.filter((item) => {\n            return Object.values(item).some((key) => {\n              let trueCount = 0;\n              trueCount += getObjectValuesWithFilter(\n                key,\n                this.filters.all.toLowerCase()\n              );\n  \n              return trueCount > 0 ? true : false;\n            });\n          });\n        }\n  \n        return filtered.length > 0 ? filtered : this.emptyItem;\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .TableClass {\n    margin: calc(2vw);\n  }\n  </style>"],"mappings":";;;EACSA,EAAE,EAAC;AAAK;;EAEJC,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAY,GAAC,oBAExB;;EACKA,KAAK,EAAC;AAAK;;EAETA,KAAK,EAAC;AAAO;;EAUbA,KAAK,EAAC;AAAO;;EACXA,KAAK,EAAC;AAAU;gEACnBC,mBAAA,CASS;EARPD,KAAK,EAAC,mCACU;EAChBE,IAAI,EAAC,QAAQ;EACbH,EAAE,EAAC,oBAAoB;EACvB,gBAAc,EAAC,UAAU;EACzB,eAAa,EAAC;GACf,mBAED;;EACIC,KAAK,EAAC,eAAe;EAAC,iBAAe,EAAC;;iEAclDC,mBAAA,CA2BM;EA3BDD,KAAK,EAAC;AAAa,I,aACtBC,mBAAA,CAMW,mB,aALPA,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAA8B,I,aACvCC,mBAAA,CAEM;EAFDD,KAAK,EAAC,+BAA+B;EAACG,IAAI,EAAC;iBAC9CF,mBAAA,CAAuC;EAAjCD,KAAK,EAAC;AAAS,GAAC,YAAU,E,oBAKxCC,mBAAA,CAgBW;EAhBDG,IAAI,EAAC,SAAS;EAAC,YAAU,EAAC;iBAClCH,mBAAA,CAcM;EAdD,YAAU,EAAC;AAAK,I,aACnBA,mBAAA,CAYK;EAZDD,KAAK,EAAC;AAAY,I,aACpBC,mBAAA,CAEK;EAFDD,KAAK,EAAC;AAAoB,I,aAC5BC,mBAAA,CAAwD;EAArDD,KAAK,EAAC,WAAW;EAACK,IAAI,EAAC,GAAG;EAACC,QAAQ,EAAC;GAAK,UAAQ,E,gBAEtDL,mBAAA,CAA8D;EAA1DD,KAAK,EAAC;AAAW,I,aAACC,mBAAA,CAAmC;EAAhCD,KAAK,EAAC,WAAW;EAACK,IAAI,EAAC;GAAI,GAAC,E,gBACrDJ,mBAAA,CAEK;EAFDD,KAAK,EAAC;AAAkB,I,aAC1BC,mBAAA,CAA0E;EAAvED,KAAK,EAAC,WAAW;EAACK,IAAI,EAAC;kCAAI,IAAE,G,aAAAJ,mBAAA,CAAsC;EAAhCD,KAAK,EAAC;AAAS,GAAC,WAAS,E,kBAEjEC,mBAAA,CAA8D;EAA1DD,KAAK,EAAC;AAAW,I,aAACC,mBAAA,CAAmC;EAAhCD,KAAK,EAAC,WAAW;EAACK,IAAI,EAAC;GAAI,GAAC,E,gBACrDJ,mBAAA,CAEK;EAFDD,KAAK,EAAC;AAAW,I,aACnBC,mBAAA,CAAsC;EAAnCD,KAAK,EAAC,WAAW;EAACK,IAAI,EAAC;GAAI,MAAI,E;;;;uBAjEhDE,mBAAA,CA0EM,OA1ENC,UA0EM,GAzEJP,mBAAA,CAwEM,cAvEJA,mBAAA,CAsCM,OAtCNQ,UAsCM,GArCJC,UAEM,EACNT,mBAAA,CAiCM,OAjCNU,UAiCM,GA/BJV,mBAAA,CASM,OATNW,UASM,G,gBARJX,mBAAA,CAOC;IANCC,IAAI,EAAC,MAAM;IACXF,KAAK,EAAC,cAAc;IACpBa,WAAW,EAAC,mBAAmB;IAC/B,YAAU,EAAC,mBAAmB;IAC9B,kBAAgB,EAAC,cAAc;+DACtBC,IAAA,CAAAC,OAAO,CAACC,GAAG,GAAAC,MAAA;iDAAXH,IAAA,CAAAC,OAAO,CAACC,GAAG,E,KAGxBf,mBAAA,CAoBM,OApBNiB,UAoBM,GAnBJjB,mBAAA,CAkBM,OAlBNkB,UAkBM,GAjBJC,UASS,EACTnB,mBAAA,CAMK,MANLoB,UAMK,I,kBALHd,mBAAA,CAIMe,SAAA,QAAAC,WAAA,CAJgBT,IAAA,CAAAU,OAAO,EAAjBC,MAAM;yBAAlBlB,mBAAA,CAIM;MAJ0BmB,GAAG,EAAED;IAAM,IACzCE,YAAA,CAEkBC,0BAAA;MAFAC,OAAK,EAAAZ,MAAA,IAAEa,QAAA,CAAAC,sBAAsB,CAACN,MAAM;;wBACpD,MAAY,C,kCAATA,MAAM,iB;;;;4CASvBO,mBAAA,wBAA2B,EAE3BC,WA2BM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}